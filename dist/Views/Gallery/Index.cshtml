@model GalleryTypeViewModel
@{ 
    ViewBag.Title = Model != null ? Model.Name : "Галерия";
}

<div id="gallery">

    @if (Model != null)
    {

        foreach (var gallery in Model.Galleries)
        {
            if (gallery.Images.Count > 0)
            {
                var image = gallery.Images.First();
                var thumbElements = image.Url.Split('/');
                var thumbUrl = string.Format("/{0}/thumbs/{1}", thumbElements[1], thumbElements[2]);
                var url = gallery.Title.Replace(" ", "-");

                <figure>
                    <a href="@url" target="_blank"><img src="@thumbUrl" alt="@gallery.Title"></a> 
                    <figcaption>
                        <a href="@url" target="_blank">@gallery.Title</a>
                    </figcaption>
                </figure>
            }
        }
    }

</div>
